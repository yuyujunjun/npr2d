#2维图像的NPR实现
## NPR效果：
模仿人为绘画来重构真实图像。
##实现原理：
+ 先在photoshop中人工绘制笔刷，笔刷信息全部存储在透明通道中。利用python将透明通道中的笔刷信息读取，并逐像素点进行归一化。
+ 随机选择一个位置，按随机大小的块读取图片的信息，并量化块中的像素值，使该像素值代表整块。
+ 将笔刷图片随机旋转，再缩放到和该快一样的大小，再该块的原始位置进行绘制。
+ 绘制方法为对于每个像素点，将该处笔刷浓度与对应的颜色相乘。
## 实现工具
python PIL random
## 注意的地方
1. 量化信息的时候，透明通道表示的是透明度，其中像素值为0的地方为完全透明，将透明通道剥离后，显示的就为白色。这里和其他三个通道相反。
2. python的random库中的```random.uniform(a1,a2)```函数返回a1 和 a2之间的随机值，但这里的返回值的可能性并不是均等的，在我的环境中，返回值会更偏向a1。所以需要对它的返回值进行一些判断才可用于程序。
3. 最开始的想法很好，即量化笔刷浓度后，利用笔刷浓度对像素值进行加权，但是此刻会存在一个问题。
> 对于笔刷浓度高的地方，笔刷像素值更偏向1，那么颜色很正常。但是在笔刷浓度低的地方，笔刷像素值更偏向0，按道理笔刷浓度低颜色应该更偏白，但是如果通过线性运算，则会更偏黑。换而言之，简单相乘的意义不大。如果想让它实现偏白效果，应该将笔刷像素值较小部分大于1，这需要具体的调制，我在程序中简单调大了笔刷浓度偏小的部分，并直接将笔刷浓度为0的部分在最后的图案上显示为白色。

4. 对于两次笔刷重合的位置，应该同时保留两次的信息，我选择设置第二次权重更大，以此表示覆盖在第一次的上面。
5. 笔刷图案的周围为白色，但覆盖两次颜色的时候，白色应该算还没有绘制上去的部分，所以当检测到像素值大于某值，应该在像素覆盖时将其权重置为0.
## 随机的过程
1. 首先随机选择分块的大小，表示此次笔刷使用的粗细。
2. 随机旋转笔刷表示笔刷的方向。
3. 随机但是确保很大重合的两次块的位置，既保证多余的白色信息被很好的覆盖，又可以确保颜色会更加丰富，而不会形成单一的颜色块。但是这样的劣势就在于耗费大量的计算时间
## 不足
+ 对于绘画作品，至少存在细部和大笔触的划分，这样会让画面更具有层次感。如果在程序中使用这样的划分手段，可以在有限的计算量下更大程度的完成良好的画面，但是这样很难使用计算机自己完成，往往需要人手动调制。
+ 对于笔刷，此次实验默认笔刷全为硬笔，且假设纸张不会浸水，笔墨不会晕染，如果要做到这一点，应该考虑将为现有笔刷增添痕迹扩散的模型。
